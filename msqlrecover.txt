-- 1) Charset i databazÃ«s
ALTER DATABASE h205760_admin_labi CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 2) Charset i tabelave kryesore
ALTER TABLE patients CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
ALTER TABLE historias CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
ALTER TABLE history_ortodentics CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
ALTER TABLE patient_documents CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 3) Normalizo ID te patients
ALTER TABLE patients MODIFY id BIGINT NOT NULL AUTO_INCREMENT;

-- 4) Normalizo ID te historias
ALTER TABLE historias MODIFY id BIGINT NOT NULL AUTO_INCREMENT;
ALTER TABLE historias MODIFY id_pacienti BIGINT NULL;

-- 5) Normalizo ID te history_ortodentics
ALTER TABLE history_ortodentics MODIFY id BIGINT NOT NULL AUTO_INCREMENT;
ALTER TABLE history_ortodentics MODIFY id_pacienti BIGINT NOT NULL;


-- 7) Normalizo ID te patient_documents
ALTER TABLE patient_documents MODIFY id BIGINT NOT NULL AUTO_INCREMENT;
ALTER TABLE patient_documents MODIFY patient_id BIGINT NOT NULL;
